import{d as h,S as u}from"./index-B5p0OL-A.js";import{E as _}from"./ExternalInteractorBase-CIi3zRdK.js";class P{constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(t){t&&(t.options!==void 0&&(this.options=h({},t.options)),t.replaceCursor!==void 0&&(this.replaceCursor=t.replaceCursor),t.pauseOnStop!==void 0&&(this.pauseOnStop=t.pauseOnStop),t.stopDelay!==void 0&&(this.stopDelay=t.stopDelay))}}const f="particle";class x extends _{constructor(t){super(t)}clear(){}init(){}interact(){var a,c,l,p;const t=this.container,{interactivity:e}=t,o=t.actualOptions;if(!t.retina.reduceFactor)return;const s=e.mouse.position,i=o.interactivity.modes.particle;if(!i)return;const m=i.pauseOnStop&&(e.mouse.position===this._lastPosition||((a=e.mouse.position)==null?void 0:a.x)===((c=this._lastPosition)==null?void 0:c.x)&&((l=e.mouse.position)==null?void 0:l.y)===((p=this._lastPosition)==null?void 0:p.y)),y=i.stopDelay;if(s?this._lastPosition={...s}:delete this._lastPosition,!!this._lastPosition){if(m){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(i.replaceCursor){const n=e.element;n&&(n instanceof Window?document.body.style.cursor="":n.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},y);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const n=h(i.options,{move:{enable:!1}});if(this._particle=t.particles.addParticle(this._lastPosition,n),i.replaceCursor){const r=e.element;r&&(r instanceof Window?document.body.style.cursor="none":r.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(t){const e=this.container,o=e.actualOptions,s=e.interactivity.mouse,i=((t==null?void 0:t.interactivity)??o.interactivity).events;return s.clicking&&s.inside&&!!s.position&&u(f,i.onClick.mode)||s.inside&&!!s.position&&u(f,i.onHover.mode)}loadModeOptions(t,...e){t.particle||(t.particle=new P);for(const o of e)t.particle.load(o==null?void 0:o.particle)}reset(){}}export{x as InteractivityParticleMaker};
